/*
 * @Date: 2025-07-07 10:29:58
 * @Description: 日系简约风格主题
 */
@import "@xyflow/react/dist/style.css";
@import "tailwindcss";

/* 日系简约主题变量 */
@layer base {
  :root {
    /* 字体 */
    --font-jp: "Noto Serif JP", "Hiragino Mincho ProN", serif;
    --font-jp-sans: "Noto Sans JP", "Hiragino Sans", sans-serif;
    --font-mono: "JetBrains Mono", monospace;
  }

  /* ========== 藤花雨 ========== */
  [data-color="fuji"],
  :root {
    --jp-ink: #2e2b33;
    --jp-stone: #6b6572;
    --jp-ash: #9a94a0;
    --jp-mist: #ddd8e0;
    --jp-snow: #f5f3f6;
    --jp-paper: #efedf2;
    --jp-cream: #faf8fc;
    --jp-vermilion: #9b8bb4;
    --jp-indigo: #8a9eaa;
    --jp-moss: #8ea892;
    --jp-gold: #baa88c;
    --jp-sakura: #c4949e;
    --jp-success: #8ea892;
    --jp-error: #b88a8a;
    --jp-warning: #baa88c;
  }

  [data-color="fuji"][data-theme="dark"],
  :root[data-theme="dark"] {
    --jp-ink: #e0dce4;
    --jp-stone: #a8a2ae;
    --jp-ash: #78727e;
    --jp-mist: #3a3540;
    --jp-snow: #1c1a20;
    --jp-paper: #262330;
    --jp-cream: #1e1b24;
    --jp-vermilion: #b4a4cc;
    --jp-indigo: #a0b4be;
    --jp-moss: #a4bea8;
    --jp-gold: #d0bea2;
    --jp-sakura: #d4a8b2;
    --jp-success: #a4bea8;
    --jp-error: #cca0a0;
    --jp-warning: #d0bea2;
  }

  /* ========== 京都抹茶 ========== */
  [data-color="matcha"] {
    --jp-ink: #33302b;
    --jp-stone: #6b6660;
    --jp-ash: #9a9590;
    --jp-mist: #ddd8d0;
    --jp-snow: #f5f3ee;
    --jp-paper: #edeae4;
    --jp-cream: #faf8f4;
    --jp-vermilion: #7d8c6c;
    --jp-indigo: #7e96a3;
    --jp-moss: #8ea882;
    --jp-gold: #c4a96a;
    --jp-sakura: #c9a0a0;
    --jp-success: #8ea882;
    --jp-error: #b88a7a;
    --jp-warning: #c4a96a;
  }

  [data-color="matcha"][data-theme="dark"] {
    --jp-ink: #e0ddd8;
    --jp-stone: #a8a49e;
    --jp-ash: #787470;
    --jp-mist: #3a3830;
    --jp-snow: #1c1b18;
    --jp-paper: #26251e;
    --jp-cream: #1e1d18;
    --jp-vermilion: #9aaa88;
    --jp-indigo: #9ab0bc;
    --jp-moss: #a4be9a;
    --jp-gold: #d8c488;
    --jp-sakura: #d4b4b4;
    --jp-success: #a4be9a;
    --jp-error: #cca090;
    --jp-warning: #d8c488;
  }

  /* ========== 焦糖拿铁 ========== */
  [data-color="latte"] {
    --jp-ink: #362f28;
    --jp-stone: #7a6e62;
    --jp-ash: #a89e93;
    --jp-mist: #e2d9cf;
    --jp-snow: #f5f0ea;
    --jp-paper: #efe8e0;
    --jp-cream: #fdf9f4;
    --jp-vermilion: #b58563;
    --jp-indigo: #8da3ad;
    --jp-moss: #8ea88a;
    --jp-gold: #c9a87a;
    --jp-sakura: #d4a0a0;
    --jp-success: #8ea88a;
    --jp-error: #c48a7a;
    --jp-warning: #c9a87a;
  }

  [data-color="latte"][data-theme="dark"] {
    --jp-ink: #e8e0d8;
    --jp-stone: #b0a89e;
    --jp-ash: #807870;
    --jp-mist: #403830;
    --jp-snow: #201c18;
    --jp-paper: #2a2520;
    --jp-cream: #1e1a16;
    --jp-vermilion: #d4a48a;
    --jp-indigo: #a0b4be;
    --jp-moss: #aebea2;
    --jp-gold: #d8be96;
    --jp-sakura: #e0b4b4;
    --jp-success: #aebea2;
    --jp-error: #d4a090;
    --jp-warning: #d8be96;
  }

  html {
    scroll-behavior: smooth;
    scrollbar-width: thin;
    scrollbar-color: var(--jp-mist) transparent;
  }
}

@layer utilities {
  /* 日式细线边框 */
  .jp-border {
    border: 1px solid var(--jp-mist);
  }

  .jp-border-dark {
    border: 1px solid var(--jp-ash);
  }

  /* 和纸质感背景 */
  .jp-paper {
    background: var(--jp-paper);
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.03'/%3E%3C/svg%3E");
  }

  /* 墨迹效果 */
  .jp-ink-shadow {
    box-shadow: 2px 2px 0 var(--jp-ink);
  }

  /* 淡入动画 */
  .animate-fade-in {
    animation: fadeIn 0.6s ease-out forwards;
  }

  .animate-slide-up {
    animation: slideUp 0.5s ease-out forwards;
  }
}

/* 全局滚动条样式 */
*::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

*::-webkit-scrollbar-track {
  background: transparent;
}

*::-webkit-scrollbar-thumb {
  background: var(--jp-mist);
  border-radius: 3px;
}

*::-webkit-scrollbar-thumb:hover {
  background: var(--jp-ash);
}

/* 动画定义 */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideUp {
  from {
    transform: translateY(20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

/* 主题切换 View Transition - 从左到右擦除 */
::view-transition-old(root) {
  animation: wipe-out 0.5s ease-in-out;
  z-index: 1;
}

::view-transition-new(root) {
  animation: wipe-in 0.5s ease-in-out;
  z-index: 2;
}

@keyframes wipe-in {
  from {
    clip-path: inset(0 100% 0 0);
  }
  to {
    clip-path: inset(0 0 0 0);
  }
}

@keyframes wipe-out {
  from {
    clip-path: inset(0 0 0 0);
  }
  to {
    clip-path: inset(0 0 0 100%);
  }
}

/* ReactFlow Customization */
.react-flow__node:focus,
.react-flow__node.selected {
  outline: none !important;
  border: none !important;
  box-shadow: none !important;
}

.react-flow__node {
  border: none !important;
  width: auto !important;
  padding: 0 !important;
  background: transparent !important;
}
